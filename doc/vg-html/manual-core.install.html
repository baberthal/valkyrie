<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>2.10. Building and Installing</title>
<link rel="stylesheet" href="vg_basic.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="Valgrind Documentation">
<link rel="up" href="manual-core.html" title="2. Using and understanding the Valgrind core">
<link rel="previous" href="manual-core.signals.html" title="2.9. Handling of Signals">
<link rel="next" href="manual-core.problems.html" title="2.11. If You Have Problems">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div><table class="nav" width="100%" cellspacing="3" cellpadding="3" border="0" summary="Navigation header"><tr>
<td width="22px" align="center" valign="middle"><a accesskey="p" href="manual-core.signals.html"><img src="images/prev.png" width="18" height="21" border="0" alt="Prev"></a></td>
<td width="25px" align="center" valign="middle"><a accesskey="u" href="manual-core.html"><img src="images/up.png" width="21" height="18" border="0" alt="Up"></a></td>
<td width="31px" align="center" valign="middle"><a accesskey="h" href="index.html"><img src="images/home.png" width="27" height="20" border="0" alt="Up"></a></td>
<th align="center" valign="middle">2. Using and understanding the Valgrind core</th>
<td width="22px" align="center" valign="middle"><a accesskey="n" href="manual-core.problems.html"><img src="images/next.png" width="18" height="21" border="0" alt="Next"></a></td>
</tr></table></div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="manual-core.install"></a>2.10. Building and Installing</h2></div></div>
<div></div>
</div>
<p>We use the standard Unix
<tt class="computeroutput">./configure</tt>,
<tt class="computeroutput">make</tt>, <tt class="computeroutput">make
install</tt> mechanism, and we have attempted to
ensure that it works on machines with kernel 2.4 or 2.6 and glibc
2.2.X or 2.3.X.</p>
<p>There are two options (in addition to the usual
<tt class="computeroutput">--prefix=</tt> which affect how Valgrind is built:
</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p><tt class="computeroutput">--enable-pie</tt></p>
<p>&gt;PIE stands for "position-independent executable".  This is
  enabled by default if your toolchain supports it.  PIE allows Valgrind
  to place itself as high as possible in memory, giving your program as
  much address space as possible.  It also allows Valgrind to run under
  itself.  If PIE is disabled, Valgrind loads at a default address which
  is suitable for most systems.  This is also useful for debugging
  Valgrind itself.</p>
</li>
<li>
<p><tt class="computeroutput">--enable-tls</tt></p>
<p>TLS (Thread Local Storage) is a relatively new mechanism which
  requires compiler, linker and kernel support.  Valgrind automatically test
  if TLS is supported and enable this option.  Sometimes it cannot test for
  TLS, so this option allows you to override the automatic test.</p>
</li>
</ul></div>
<p>
</p>
<p>The <tt class="computeroutput">configure</tt> script tests
the version of the X server currently indicated by the current
<tt class="computeroutput">$DISPLAY</tt>.  This is a known bug.
The intention was to detect the version of the current XFree86
client libraries, so that correct suppressions could be selected
for them, but instead the test checks the server version.  This
is just plain wrong.</p>
<p>If you are building a binary package of Valgrind for
distribution, please read <tt class="literal">README_PACKAGERS</tt>
<a href="dist.readme-packagers.html">Readme Packagers</a>.  It contains some
important information.</p>
<p>Apart from that, there's not much excitement here.  Let us
know if you have build problems.</p>
</div>
<div>
<br><table class="nav" width="100%" cellspacing="3" cellpadding="2" border="0" summary="Navigation footer">
<tr>
<td rowspan="2" width="40%" align="left">
<a accesskey="p" href="manual-core.signals.html">&lt;&lt; 2.9. Handling of Signals</a> </td>
<td width="20%" align="center"><a accesskey="u" href="manual-core.html">Up</a></td>
<td rowspan="2" width="40%" align="right"> <a accesskey="n" href="manual-core.problems.html">2.11. If You Have Problems &gt;&gt;</a>
</td>
</tr>
<tr><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td></tr>
</table>
</div>
</body>
</html>
