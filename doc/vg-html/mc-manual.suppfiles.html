<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>3.4. Writing suppressions files</title>
<link rel="stylesheet" href="vg_basic.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="Valgrind Documentation">
<link rel="up" href="mc-manual.html" title="3. Memcheck: a heavyweight memory checker">
<link rel="previous" href="mc-manual.errormsgs.html" title="3.3. Explanation of error messages from Memcheck">
<link rel="next" href="mc-manual.machine.html" title="3.5. Details of Memcheck's checking machinery">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div><table class="nav" width="100%" cellspacing="3" cellpadding="3" border="0" summary="Navigation header"><tr>
<td width="22px" align="center" valign="middle"><a accesskey="p" href="mc-manual.errormsgs.html"><img src="images/prev.png" width="18" height="21" border="0" alt="Prev"></a></td>
<td width="25px" align="center" valign="middle"><a accesskey="u" href="mc-manual.html"><img src="images/up.png" width="21" height="18" border="0" alt="Up"></a></td>
<td width="31px" align="center" valign="middle"><a accesskey="h" href="index.html"><img src="images/home.png" width="27" height="20" border="0" alt="Up"></a></td>
<th align="center" valign="middle">3. Memcheck: a heavyweight memory checker</th>
<td width="22px" align="center" valign="middle"><a accesskey="n" href="mc-manual.machine.html"><img src="images/next.png" width="18" height="21" border="0" alt="Next"></a></td>
</tr></table></div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="mc-manual.suppfiles"></a>3.4. Writing suppressions files</h2></div></div>
<div></div>
</div>
<p>The basic suppression format is described in 
<a href="manual-core.suppress.html">Suppressing errors</a>.</p>
<p>The suppression (2nd) line should have the form:</p>
<pre class="programlisting">
Memcheck:suppression_type</pre>
<p>Or, since some of the suppressions are shared with Addrcheck:</p>
<pre class="programlisting">
Memcheck,Addrcheck:suppression_type</pre>
<p>The Memcheck suppression types are as follows:</p>
<div class="itemizedlist"><ul type="disc">
<li><p><tt class="computeroutput">Value1</tt>, 
    <tt class="computeroutput">Value2</tt>,
    <tt class="computeroutput">Value4</tt>,
    <tt class="computeroutput">Value8</tt>,
    <tt class="computeroutput">Value16</tt>,
    meaning an uninitialised-value error when
    using a value of 1, 2, 4, 8 or 16 bytes.</p></li>
<li><p>Or: <tt class="computeroutput">Cond</tt> (or its old
    name, <tt class="computeroutput">Value0</tt>), meaning use
    of an uninitialised CPU condition code.</p></li>
<li><p>Or: <tt class="computeroutput">Addr1</tt>,
    <tt class="computeroutput">Addr2</tt>, 
    <tt class="computeroutput">Addr4</tt>,
    <tt class="computeroutput">Addr8</tt>,
    <tt class="computeroutput">Addr16</tt>, 
    meaning an invalid address during a
    memory access of 1, 2, 4, 8 or 16 bytes respectively.</p></li>
<li><p>Or: <tt class="computeroutput">Param</tt>, meaning an
    invalid system call parameter error.</p></li>
<li><p>Or: <tt class="computeroutput">Free</tt>, meaning an
    invalid or mismatching free.</p></li>
<li><p><tt class="computeroutput">Overlap</tt>, meaning a
    <tt class="computeroutput">src</tt> /
    <tt class="computeroutput">dst</tt> overlap in
    <tt class="computeroutput">memcpy() or a similar
    function</tt>.</p></li>
<li><p>Last but not least, you can suppress leak reports with
    <tt class="computeroutput">Leak</tt>.  Leak suppression was
    added in valgrind-1.9.3, I believe.</p></li>
</ul></div>
<p>The extra information line: for Param errors, is the name
of the offending system call parameter.  No other error kinds
have this extra line.</p>
<p>The first line of the calling context: for Value and Addr
errors, it is either the name of the function in which the error
occurred, or, failing that, the full path of the .so file or
executable containing the error location.  For Free errors, is
the name of the function doing the freeing (eg,
<tt class="computeroutput">free</tt>,
<tt class="computeroutput">__builtin_vec_delete</tt>, etc).  For
Overlap errors, is the name of the function with the overlapping
arguments (eg.  <tt class="computeroutput">memcpy()</tt>,
<tt class="computeroutput">strcpy()</tt>, etc).</p>
<p>Lastly, there's the rest of the calling context.</p>
</div>
<div>
<br><table class="nav" width="100%" cellspacing="3" cellpadding="2" border="0" summary="Navigation footer">
<tr>
<td rowspan="2" width="40%" align="left">
<a accesskey="p" href="mc-manual.errormsgs.html">&lt;&lt; 3.3. Explanation of error messages from Memcheck</a> </td>
<td width="20%" align="center"><a accesskey="u" href="mc-manual.html">Up</a></td>
<td rowspan="2" width="40%" align="right"> <a accesskey="n" href="mc-manual.machine.html">3.5. Details of Memcheck's checking machinery &gt;&gt;</a>
</td>
</tr>
<tr><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td></tr>
</table>
</div>
</body>
</html>
